<form [formGroup]="postForm" class="flex flex-col gap-4">

  <textarea
    autoResize
    class="w-full p-3 border border-gray-300 rounded-md focus:outline-none resize-none"
    formControlName="text"
    pInputTextarea
    placeholder="Que veux-tu dire ?"
    rows="4">
  </textarea>

  @if (postForm.get('image')?.value && imagePreview) {
    <div class="relative mt-2 border border-gray-300 rounded-lg overflow-hidden">
      <img [src]="imagePreview" alt="AperÃ§u" class="w-full h-auto object-cover rounded-lg">
      <div class="absolute top-2 right-2">
        <p-button
          icon="pi pi-times"
          text
          rounded
          severity="secondary"
          (click)="removeImage()"
          styleClass="bg-white hover:bg-gray-200 text-gray-600 p-button-text p-button-rounded shadow-md">
        </p-button>
      </div>
    </div>
  } @else {
    <div class="flex items-center justify-between mt-2">
      <p-button
        icon="pi pi-camera"
        label="Ajouter une photo"
        outlined
        rounded
        severity="secondary"
        (click)="importInput.click()"
        styleClass="w-full md:w-auto px-6 py-2.5 flex justify-center items-center gap-2 hover:bg-gray-100">
      </p-button>
    </div>
  }

</form>

<!-- Input de type fichier pour l'import d'image -->
<input #importInput (change)="onImportLogo($event)" accept=".png, .jpg" hidden type="file">

