<button (click)="goBack()" class="text-gray-600 hover:text-gray-800">
  <mat-icon>arrow_back</mat-icon>
</button>
@if (guild(); as guild) {
  <div class="p-4 flex flex-col gap-4">

    <mat-card class="shadow-lg rounded-lg">
      <app-guild-header
        [guild]="guild"
        [hidden]="loading"
        [currentUser]="currentUser()!"
      />

      @if (guild.members) {
        <app-guild-members-table
          [hidden]="loading"
          [currentUser]="currentUser()!"
          [guild]="guild"
        />
      }

      @if (loading) {
        <mat-spinner class="mx-auto min-h-[11.75rem]" color="accent" diameter="50"></mat-spinner>
      }
    </mat-card>

    @if (!loading && guild.allies) {
      <div class="flex flex-col gap-3">
        <div class="text-2xl font-bold">Alliances <span>{{ guild.allies.length }}/3</span></div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          @for (ally of guild.allies; track ally.id) {
            <app-alliance-card [guild]="ally"/>
          }
        </div>
      </div>
    }

  </div>
}
